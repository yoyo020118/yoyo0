<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>تسجيل دخول Google</title>
</head>
<body>
<h2>تسجيل الدخول باستخدام Google</h2>
<button id="btnGoogle">تسجيل دخول بـ Google</button>
<div id="userInfo"></div>

<script type="module">
  // استيراد Firebase من CDN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

  // هنا نضيف firebaseConfig الخاص بك
  const firebaseConfig = {
    apiKey: "AIzaSyC08ihJ4f3arua6_pWyzimT3ndAWPVKjbc",
    authDomain: "yoyo-3b06a.firebaseapp.com",
    projectId: "yoyo-3b06a",
    storageBucket: "yoyo-3b06a.firebasestorage.app",
    messagingSenderId: "942048587610",
    appId: "1:942048587610:web:6118a870029bcb3e198d63",
    measurementId: "G-6MPXNLDKWF"
  };

  // تهيئة Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  // زر تسجيل الدخول
  document.getElementById('btnGoogle').addEventListener('click', () => {
    signInWithPopup(auth, provider)
      .then(result => {
        const user = result.user;
        document.getElementById('userInfo').innerHTML = `
          <p>مرحباً ${user.displayName}</p>
          <img src="${user.photoURL}" width="50">
        `;
      })
      .catch(err => console.error(err));
  });

  // متابعة حالة تسجيل الدخول عند فتح الصفحة
  onAuthStateChanged(auth, user => {
    if(user){
      document.getElementById('userInfo').innerHTML = `
        <p>مرحباً ${user.displayName}</p>
        <img src="${user.photoURL}" width="50">
      `;
    }
  });
</script>
</body>
</html>
